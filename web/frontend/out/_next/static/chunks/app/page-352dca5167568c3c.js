(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1154:function(e,s,a){Promise.resolve().then(a.bind(a,3639))},3639:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return ee}});var r=a(3827),t=a(4090),n=a(9769),i=a(3167),c=a(1367);function l(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,c.m6)((0,i.W)(s))}let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,s)=>{let{className:a,variant:t,size:n,...i}=e;return(0,r.jsx)("button",{className:l(d({variant:t,size:n,className:a})),ref:s,...i})});o.displayName="Button";let m=t.forwardRef((e,s)=>{let{className:a,type:t,...n}=e;return(0,r.jsx)("input",{type:t,className:l("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});m.displayName="Input";let u=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("label",{ref:s,className:l(u(),a),...t})});h.displayName="Label";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:l("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});x.displayName="Card";let f=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:l("flex flex-col space-y-1.5 p-6",a),...t})});f.displayName="CardHeader";let j=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h3",{ref:s,className:l("text-2xl font-semibold leading-none tracking-tight",a),...t})});j.displayName="CardTitle";let p=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("p",{ref:s,className:l("text-sm text-muted-foreground",a),...t})});p.displayName="CardDescription";let g=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:l("p-6 pt-0",a),...t})});g.displayName="CardContent",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:l("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter";var v=a(7841);function N(e){let{size:s="md",showText:a=!0}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"".concat({sm:"h-6 w-6",md:"h-10 w-10",lg:"h-16 w-16"}[s]," text-primary"),children:(0,r.jsx)(v.Z,{className:"w-full h-full"})}),a&&(0,r.jsx)("span",{className:"font-bold ".concat({sm:"text-lg",md:"text-2xl",lg:"text-4xl"}[s]," tracking-tight"),children:"MVISION"})]})}async function y(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat("/api").concat(e),{...s,headers:{"Content-Type":"application/json",...s.headers},credentials:"include"});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Erro desconhecido"}))).detail||"HTTP ".concat(a.status));return a.json()}async function b(e){return y("/auth/login",{method:"POST",body:JSON.stringify({password:e})})}async function w(){return y("/auth/logout",{method:"POST"})}async function E(){return y("/auth/check")}async function S(e,s){return y("/auth/password",{method:"POST",body:JSON.stringify({current_password:e,new_password:s})})}async function C(){return y("/config")}async function _(e){return y("/config",{method:"POST",body:JSON.stringify(e)})}async function k(){return y("/settings")}async function O(e){return y("/settings",{method:"POST",body:JSON.stringify(e)})}async function R(){return y("/system/info")}async function T(){return y("/system/status")}async function F(){return y("/system/restart",{method:"POST"})}var A=a(8994);function I(e){let{onSuccess:s}=e,[a,n]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[l,d]=(0,t.useState)(!1),u=async e=>{e.preventDefault(),c(""),d(!0);try{await b(a),s()}catch(e){c(e instanceof Error?e.message:"Erro ao fazer login")}finally{d(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,r.jsxs)(x,{className:"w-full max-w-md",children:[(0,r.jsxs)(f,{className:"text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)(N,{size:"lg"})}),(0,r.jsx)(j,{children:"Sistema de Monitoramento"}),(0,r.jsx)(p,{children:"Entre com sua senha para acessar as configura\xe7\xf5es"})]}),(0,r.jsx)(g,{children:(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"password",children:"Senha"}),(0,r.jsx)(m,{id:"password",type:"password",placeholder:"Digite sua senha",value:a,onChange:e=>n(e.target.value),autoFocus:!0})]}),i&&(0,r.jsx)("p",{className:"text-sm text-red-500",children:i}),(0,r.jsx)(o,{type:"submit",className:"w-full",disabled:l,children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Entrando..."]}):"Entrar"})]})})]})})}var D=a(2235);let Z=t.createContext(void 0);function M(e){let{children:s}=e,[a,n]=t.useState([]),i=t.useCallback(e=>{let s=Math.random().toString(36).substr(2,9);n(a=>[...a,{...e,id:s}]),setTimeout(()=>{n(e=>e.filter(e=>e.id!==s))},5e3)},[]),c=t.useCallback(e=>{n(s=>s.filter(s=>s.id!==e))},[]);return(0,r.jsxs)(Z.Provider,{value:{toasts:a,addToast:i,removeToast:c},children:[s,(0,r.jsx)(P,{})]})}function P(){let e=t.useContext(Z);if(!e)return null;let{toasts:s,removeToast:a}=e;return(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 w-80",children:s.map(e=>(0,r.jsx)("div",{className:l("rounded-lg border p-4 shadow-lg transition-all","bg-card text-card-foreground","success"===e.variant&&"border-green-500/50 bg-green-500/10","destructive"===e.variant&&"border-red-500/50 bg-red-500/10"),children:(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.title}),e.description&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]}),(0,r.jsx)("button",{onClick:()=>a(e.id),className:"text-muted-foreground hover:text-foreground",children:(0,r.jsx)(D.Z,{className:"h-4 w-4"})})]})},e.id))})}function H(){let e=t.useContext(Z);if(!e)throw Error("useToast must be used within a ToastProvider");return{toast:e.addToast}}var L=a(3879),V=a(699);function z(e){let{initialConfig:s,onBack:a}=e,[n,i]=(0,t.useState)(s),[c,l]=(0,t.useState)(!1),{toast:d}=H(),u=(e,s)=>{i(a=>({...a,[e]:s}))},v=async e=>{e.preventDefault(),l(!0);try{let e=await _(n);d({title:"Sucesso",description:e.message,variant:"success"})}catch(e){d({title:"Erro ao salvar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{l(!1)}};return(0,r.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,r.jsxs)(o,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,r.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,r.jsxs)(x,{children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(j,{children:"Configuracao do Dispositivo"}),(0,r.jsx)(p,{children:"Configure a identificacao deste equipamento"})]}),(0,r.jsx)(g,{children:(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"environment_id",children:"ID do Ambiente"}),(0,r.jsx)(m,{id:"environment_id",placeholder:"Ex: UTI-LEITO-01",value:n.environment_id,onChange:e=>u("environment_id",e.target.value)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Identificador unico deste dispositivo"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"hospital",children:"Hospital"}),(0,r.jsx)(m,{id:"hospital",placeholder:"Nome do hospital",value:n.hospital,onChange:e=>u("hospital",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"sector",children:"Setor"}),(0,r.jsx)(m,{id:"sector",placeholder:"Ex: UTI, Enfermaria, Emergencia",value:n.sector,onChange:e=>u("sector",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"bed",children:"Leito"}),(0,r.jsx)(m,{id:"bed",placeholder:"Numero do leito",value:n.bed,onChange:e=>u("bed",e.target.value)})]}),(0,r.jsx)(o,{type:"submit",className:"w-full",disabled:c,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Salvar Configuracao"]})})]})})]})]})})}let B=t.forwardRef((e,s)=>{let{className:a,onCheckedChange:t,checked:n,...i}=e;return(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",className:"sr-only peer",ref:s,checked:n,onChange:e=>{t&&t(e.target.checked)},...i}),(0,r.jsx)("div",{className:l("w-11 h-6 bg-secondary rounded-full peer","peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full","after:content-[''] after:absolute after:top-[2px] after:start-[2px]","after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all","peer-checked:bg-primary peer-focus-visible:ring-2 peer-focus-visible:ring-ring",a)})]})});function K(e){let{onBack:s}=e,[a,n]=(0,t.useState)(null),[i,c]=(0,t.useState)(!0),[l,d]=(0,t.useState)(!1),{toast:u}=H();(0,t.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await k();n(e)}catch(e){u({title:"Erro ao carregar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{c(!1)}},N=(e,s)=>{a&&n({...a,[e]:s})},y=(e,s)=>{if(a){let r=parseFloat(s);isNaN(r)||n({...a,[e]:r})}},b=async e=>{if(e.preventDefault(),a){d(!0);try{let e=await O(a);u({title:"Sucesso",description:e.message,variant:"success"})}catch(e){u({title:"Erro ao salvar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{d(!1)}}};return i?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(A.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):a?(0,r.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,r.jsxs)(o,{variant:"ghost",onClick:s,className:"mb-4",children:[(0,r.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,r.jsxs)(x,{children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(j,{children:"Configuracoes do Sistema"}),(0,r.jsx)(p,{children:"Ajustes avancados do monitoramento"})]}),(0,r.jsx)(g,{children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Modo de Operacao"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(h,{children:"Modo Desenvolvedor"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Salva imagens de alerta para debug"})]}),(0,r.jsx)(B,{checked:a.DEV_MODE,onCheckedChange:e=>N("DEV_MODE",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(h,{children:"Pular Deteccao de Leito"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Ignora calibracao de leito"})]}),(0,r.jsx)(B,{checked:a.DEV_SKIP_BED_DETECTION,onCheckedChange:e=>N("DEV_SKIP_BED_DETECTION",e)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-0.5",children:[(0,r.jsx)(h,{children:"Espelhar Imagem"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Inverte a imagem horizontalmente"})]}),(0,r.jsx)(B,{checked:a.FLIP_HORIZONTAL,onCheckedChange:e=>N("FLIP_HORIZONTAL",e)})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Parametros de Deteccao"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"bed_recheck",children:"Verificar Leito (horas)"}),(0,r.jsx)(m,{id:"bed_recheck",type:"number",min:"1",value:a.BED_RECHECK_INTERVAL_HOURS,onChange:e=>y("BED_RECHECK_INTERVAL_HOURS",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"pose_frames",children:"Frames p/ Confirmar"}),(0,r.jsx)(m,{id:"pose_frames",type:"number",min:"1",value:a.POSE_FRAMES_TO_CONFIRM,onChange:e=>y("POSE_FRAMES_TO_CONFIRM",e.target.value)})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide",children:"Suavizacao (EMA)"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"ema_alpha",children:"Alpha"}),(0,r.jsx)(m,{id:"ema_alpha",type:"number",step:"0.1",min:"0",max:"1",value:a.EMA_ALPHA,onChange:e=>y("EMA_ALPHA",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"ema_enter",children:"Entrar Risco"}),(0,r.jsx)(m,{id:"ema_enter",type:"number",step:"0.1",min:"0",max:"1",value:a.EMA_THRESHOLD_ENTER_RISK,onChange:e=>y("EMA_THRESHOLD_ENTER_RISK",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"ema_exit",children:"Sair Risco"}),(0,r.jsx)(m,{id:"ema_exit",type:"number",step:"0.1",min:"0",max:"1",value:a.EMA_THRESHOLD_EXIT_RISK,onChange:e=>y("EMA_THRESHOLD_EXIT_RISK",e.target.value)})]})]})]}),(0,r.jsx)(o,{type:"submit",className:"w-full",disabled:l,children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Salvar Configuracoes"]})})]})})]})]})}):(0,r.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,r.jsxs)(o,{variant:"ghost",onClick:s,className:"mb-4",children:[(0,r.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,r.jsx)("p",{className:"text-center text-muted-foreground",children:"Erro ao carregar configuracoes"})]})})}function q(e){let{onBack:s}=e,[a,n]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[l,d]=(0,t.useState)(""),[u,v]=(0,t.useState)(!1),{toast:N}=H(),y=async e=>{if(e.preventDefault(),i!==l){N({title:"Erro",description:"As senhas nao coincidem",variant:"destructive"});return}if(i.length<6){N({title:"Erro",description:"A nova senha deve ter pelo menos 6 caracteres",variant:"destructive"});return}v(!0);try{let e=await S(a,i);N({title:"Sucesso",description:e.message,variant:"success"}),n(""),c(""),d("")}catch(e){N({title:"Erro ao alterar senha",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{v(!1)}};return(0,r.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)(o,{variant:"ghost",onClick:s,className:"mb-4",children:[(0,r.jsx)(L.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,r.jsxs)(x,{children:[(0,r.jsxs)(f,{children:[(0,r.jsx)(j,{children:"Alterar Senha"}),(0,r.jsx)(p,{children:"Atualize a senha de acesso ao sistema"})]}),(0,r.jsx)(g,{children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"current",children:"Senha Atual"}),(0,r.jsx)(m,{id:"current",type:"password",value:a,onChange:e=>n(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"new",children:"Nova Senha"}),(0,r.jsx)(m,{id:"new",type:"password",value:i,onChange:e=>c(e.target.value),required:!0,minLength:6}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimo de 6 caracteres"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:"confirm",children:"Confirmar Nova Senha"}),(0,r.jsx)(m,{id:"confirm",type:"password",value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,r.jsx)(o,{type:"submit",className:"w-full",disabled:u,children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Alterar Senha"]})})]})})]})]})})}B.displayName="Switch";var J=a(1049),U=a(3013),X=a(9910),W=a(695),G=a(1530),Q=a(834),Y=a(933);function $(e){let{onLogout:s}=e,[a,n]=(0,t.useState)("dashboard"),[i,c]=(0,t.useState)(null),[l,d]=(0,t.useState)(null),[m,u]=(0,t.useState)(null),[h,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)(!1),{toast:E}=H(),S=async()=>{try{let[e,s,a]=await Promise.all([C(),R(),T()]);c(e),d(s),u(a)}catch(e){E({title:"Erro ao carregar dados",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{v(!1)}};(0,t.useEffect)(()=>{S()},[]);let _=async()=>{try{await w(),s()}catch(e){E({title:"Erro ao sair",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}},k=async()=>{b(!0);try{let e=await F();E({title:e.success?"Sucesso":"Erro",description:e.message,variant:e.success?"success":"destructive"}),setTimeout(S,2e3)}catch(e){E({title:"Erro ao reiniciar",description:e instanceof Error?e.message:"Erro desconhecido",variant:"destructive"})}finally{b(!1)}};return h?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(A.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):"device"===a?(0,r.jsx)(z,{initialConfig:i,onBack:()=>{n("dashboard"),S()}}):"settings"===a?(0,r.jsx)(K,{onBack:()=>n("dashboard")}):"password"===a?(0,r.jsx)(q,{onBack:()=>n("dashboard")}):(0,r.jsx)("div",{className:"min-h-screen p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)(N,{}),(0,r.jsxs)(o,{variant:"outline",size:"sm",onClick:_,children:[(0,r.jsx)(J.Z,{className:"h-4 w-4 mr-2"}),"Sair"]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)(x,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>n("device"),children:[(0,r.jsxs)(f,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(U.Z,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(j,{className:"text-lg",children:"Dispositivo"})]}),(0,r.jsx)(p,{children:"Configura\xe7\xe3o do ambiente"})]}),(0,r.jsxs)(g,{children:[(0,r.jsx)("p",{className:"text-xl font-semibold",children:(null==i?void 0:i.environment_id)||"N\xe3o configurado"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null==i?void 0:i.hospital," - ",null==i?void 0:i.sector]})]})]}),(0,r.jsxs)(x,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>n("settings"),children:[(0,r.jsxs)(f,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(X.Z,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(j,{className:"text-lg",children:"Configuracoes"})]}),(0,r.jsx)(p,{children:"Ajustes do sistema"})]}),(0,r.jsx)(g,{children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Modo desenvolvedor, deteccao, EMA..."})})]}),(0,r.jsxs)(x,{children:[(0,r.jsxs)(f,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(W.Z,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(j,{className:"text-lg",children:"Sistema"})]}),(0,r.jsx)(p,{children:"Status do servico principal"})]}),(0,r.jsxs)(g,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"h-3 w-3 rounded-full ".concat((null==m?void 0:m.running)?"bg-green-500":"bg-red-500")}),(0,r.jsx)("span",{children:(null==m?void 0:m.running)?"Online":"Offline"})]}),l&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(G.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:l.ip_addresses[0]||"N/A"})]}),(0,r.jsxs)("p",{children:["Host: ",l.hostname]})]}),(0,r.jsx)(o,{variant:"outline",size:"sm",onClick:k,disabled:y,children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Reiniciando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Q.Z,{className:"h-4 w-4 mr-2"}),"Reiniciar Servico"]})})]})]}),(0,r.jsxs)(x,{className:"cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>n("password"),children:[(0,r.jsxs)(f,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(Y.Z,{className:"h-6 w-6 text-primary"}),(0,r.jsx)(j,{className:"text-lg",children:"Seguranca"})]}),(0,r.jsx)(p,{children:"Alterar senha de acesso"})]}),(0,r.jsx)(g,{children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Clique para alterar a senha"})})]})]})]})})}function ee(){let[e,s]=(0,t.useState)(null);return((0,t.useEffect)(()=>{E().then(e=>{let{authenticated:a}=e;return s(a)}).catch(()=>s(!1))},[]),null===e)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(A.Z,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,r.jsx)(M,{children:e?(0,r.jsx)($,{onLogout:()=>s(!1)}):(0,r.jsx)(I,{onSuccess:()=>s(!0)})})}}},function(e){e.O(0,[648,971,69,744],function(){return e(e.s=1154)}),_N_E=e.O()}]);